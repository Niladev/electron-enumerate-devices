<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>enumerateDevices web test</title>
  </head>
  <body>
    <h1>enumerateDevices web test</h1>
    
    <p>Testing browser should be Chrome</p>
    <p>Web number of devices: <span id="numOfDevices">0</span></p>
    <button id="start">start</button>
    <button id="stop">stop</button>
    <script>

      var interval;

      document.getElementById('stop').addEventListener('click', () => {
      clearInterval(interval);
      console.log('stopped');
      })

      document.getElementById('start').addEventListener('click', () => {
      interval = setInterval(() => {
      navigator.mediaDevices.enumerateDevices().then(function(devices) {
        console.log(devices);
        document.getElementById('numOfDevices').innerHTML = devices.length
      })
      }, 1500);
      console.log('started');
      })
    </script>
  </body>
</html>
